!function(s,o){"use strict";"object"==typeof module&&"object"==typeof module.exports&&o(require("jquery"),s),"function"==typeof define?define.cmd?define(function(t,e,n){var i=t("jquery");o(i,s)}):define(["jquery"],function(t){o(t,s)}):o(s.jQuery,s)}("undefined"!=typeof window?window:this,function(l,t,e){"use strict";if(!(l=l||(t.jQuery||null)))throw new TypeError("必须引入jquery库方可正常使用！");var n=Array.prototype.slice;function a(t,e){e=e||{},this.dom=t,this.options=l.extend(!0,{},a.defaultOptions,e),this.curtain=null,this.render().show(),console.log(t)}a.prototype={constructor:a,initElement:function(){var t=this.dom,e=(this.options,t.children(".dg-maskBox")),n=e.children(".dg-maskBg"),i=e.children(".dg-maskContent"),s=i.children(".dg-maskTitle"),o=i.children(".dg-text"),d=i.children(".dg-group"),r=d.children("dg-buttom");return 0==e.length&&(e=l('<div class="dg-mask"></div>'),t.append(e)),0==n.length&&(n=l('<div class="dg-maskBg"></div>'),e.append(n)),0==i.length&&(i=l('<div class="dg-maskContent"></div>'),e.append(i)),0==s.length&&(s=l('<div class="dg-maskTitle"></div>'),i.append(s)),0==o.length&&(o=l('<div class="dg-text"></div>'),i.append(o)),0==d.length&&(d=l('<div class="dg-group"></div>'),i.append(d)),0==r.length&&(r=l('<div class="dg-button"></div>')),this.curtainElement=e,this.bodyElement=n,this.contentElement=i,this.titleElement=s,this.areatextElement=o,this.groupElement=d,this.buttonElement=r,console.log(this),this},render:function(){this.dom;var t=this.options;if(this.initElement(),t.mask?this.curtainElement.addClass("dg-showmask"):this.curtainElement.removeClass("dg-showmask"),this.titleElement.text(t.title),this.areatextElement.text(t.text),t.handler&&t.handler instanceof Array)for(var e="",n=0;n<t.handler.length;n++)e+='<div class="dg-button">'+t.handler[n]+"</div>",this.groupElement.html(e),1==t.handler.length?l(".dg-button").addClass("eventStyle"):l(".dg-button").eq(1).addClass("eventStyle"),l(".dg-button").click(function(){t.callback(l(this).text())});else console.error("handler选项请传入数组");return this},setOptions:function(t){t=t||{};var e=this.options;this.options=l.extend(!0,{},this.options,t),function(t,e){var n=!0;for(var i in t)if(t[i]!==e[t]){n=!0;break}return n}(e,this.options)||this.render()},show:function(){this.dom,this.options;return this},hide:function(){return document.documentElement.scrollTop=0,this.curtainElement.removeClass("active"),dom.is("html")||dom.is("body")||dom.removeClass("mloading-container"),this},destroy:function(){}},a.dataKey="MLoading",a.defaultOptions={mask:!0,title:"默认标题",text:"默认文本",handler:["我知道了"]},l.fn.mask=function(t){var o={},d="",r=[];return"object"==typeof t?o=t:"string"==typeof t&&(d=t,r=n.call(arguments).splice(0,1)),this.each(function(t,e){var n=l(e),i=n.data(a.dataKey);if(i=i||new a(n,o),d){var s=i[d];"function"==typeof s&&s.apply(i,r)}})},l.fn.close=function(t){this.each(function(t,e){(l(e).is("body")||l(e).is("html"))&&l(".dg-mask").remove()})}});